<!--The secret code that you name yourself is NLAE-->
<html>
    <head>
        <title>Quantum Clicker</title>
        <link rel="stylesheet" href="src/style.css">
        <link rel="icon" type="image/x-icon" href="src/quantum.ico">
    </head>
    <body>
        
        <section id="left-panel">
            <div id="name">
                <h1 id="hname">NOT LOADED</h1>
            </div>
            <div id="sep"></div>
            <h1 id="amount"></h1>
            <h1 id="amountPS">0 Units Per Second</h1>
            <img id="press" src="src/quantum.png"></img>
            
            <div id="reset">&#8634;</div>
            
            
            <p id="version">Unfinished Version</p>
            <p id="info">Not For Moblie Use - Stay In Classic Window</p>
        </section>
        <section id="mid-zone">
            <div class="vispanel" id="dams">
                <div id="dam1" style="height: 48%; width:auto; position: relative; top: 1%; left:1%;"><img src="src/dam.png" style="height:100%;"></div>
                <div id="dam2" style="height: 48%; width: auto; position: relative; bottom: 1%; left:12%;"><img src="src/dam.png" style="height: 100%; "></div>
            </div>
        </section>
        <section id="right-panel">
            <section id="upgrades">
                <div id="clicker-upgrade-2x" class="CUBox"><img src="src/cursor.png" class="clickup"></div>
                <div id="clicker-upgrade-4x" class="CUBox"><img src="src/cursor.png" class="clickup"></div>
                <div id="clicker-upgrade-8x" class="CUBox"><img src="src/cursor.png" class="clickup"></div>
                <div id="clicker-upgrade-16x" class="CUBox"><img src="src/cursor.png" class="clickup"></div>
                <div id="clicker-upgrade-32x" class="CUBox"><img src="src/cursor.png" class="clickup"></div>
            </section>
            <section id="store">
                <abbr title="1 UPS"><div class="buyitem" id="clicker"><img src="src/cursor.png" class="storeimg"/><h1 class="storetext">Cursor</h1><div class="storecost"><h1 class="storecost" id="cursorprice">15 Units</h1></div><h1 class="count" id="cursor_count"></h1></div></abbr>
                <div class="buyitem" id="hydro"><img src="src/dam.png" class="storeimg"/><h1 class="storetext">Hydropower</h1><div class="storecost"><h1 class="storecost" id="hydroprice">100 Units</h1></div><h1 class="count" id="hydro_count"></h1></div>
                <div class="buyitem" id="geo"><img src="src/volcan.png" class="storeimg"/><h1 class="storetext">Geothermal</h1><div class="storecost"><h1 class="storecost" id="geoprice">1100 Units</h1></div><h1 class="count" id="geo_count"></h1></div>
                <div class="buyitem" id="wind"><img src="src/wind.png" class="storeimg"/><h1 class="storetext">Turbine</h1><div class="storecost"><h1 class="storecost" id="windprice">12000 Units</h1></div><h1 class="count" id="wind_count"></h1></div>
                <div class="buyitem" id="sun"><img src="src/sun.png" class="storeimg"/><h1 class="storetext">Solar Panel</h1><div class="storecost"><h1 class="storecost" id="sunprice">130000 Units</h1></div><h1 class="count" id="sun_count"></h1></div>
                <div class="buyitem" id="bio"><img src="src/bio.png" class="storeimg"/><h1 class="storetext">Biofuel</h1><div class="storecost"><h1 class="storecost" id="bioprice">1400000 Units</h1></div><h1 class="count" id="bio_count"></h1></div>
                <div class="buyitem" id="nuke"><img src="src/nuke.png" class="storeimg"><h1 class="storetext">Nuclear</h1><div class="storecost"><h1 class="storecost" id="nukeprice">20000000</h1></div><h1 class="count" id="nuke_count"></h1></h1></div>
            </section>
        </section>
        <script type="text/javascript">
            //document.createElement("h1", id="537")
            /*sessionStorage.cards = [];
            if(localStorage.paid != undefined) {
                console.log("all good");
            } else {
                localStorage.paid = false;
            }
            if (localStorage.paid == true) {
                console.log("thank you");
            } else {
                var pay = confirm("Are You Willing To Pay $30.00 To Play This Game?");
                if (pay == false) {
                    Document.close();
                } else {
                    var card = promt("Please Enter Card Number:")
                    if (card == null || undefined || NaN) {
                        close();
                    } else {
                        alert("Saving Number To Storage");
                        sessionStorage.cards.push(card);
                    }
                }
            }*/
            //vars
            //cursors
            var cursors = 0;
            var cursorMult = 1;
            var cursorPrice = 15;
            var clicksPSCursor = cursors * cursorMult;
            //alert(sessionStorage.cards);
            //dams
            var dams = 0;
            var damMult = 1;
            var damPrice = 100;
            var clicksPSDam = (dams * 5) * damMult;

            //geo
            var volcan = 0;
            var volcanMult = 1;
            var geoprice =  1100;
            var clicksPSVolcan = (volcan * 8) * volcanMult;

            //wind
            var winds = 0;
            var windMult = 1;
            var windPrice = 12000;
            var clicksPSWind = (winds * 47) * windMult;

            //sun
            var suns = 0;
            var sunMult = 1;
            var sunPrice = 130000;
            var clicksPSSun = (suns * 260) * sunMult;
            
            //bio
            var bios = 0;
            var bioMult = 1;
            var bioPrice = 1400000;
            var clicksPSBio = (bios * 1400) * bioMult;

            //nuke
            var nukes = 0;
            var nukeMult = 1;
            var nukePrice = 20000000;
            var clicksPSNuke = (nukes * 7800) * nukeMult;
            
            //general
            var name = "My Laboratory";
            var clicks = 0;
            var clicksPS = (clicksPSCursor + clicksPSDam + clicksPSVolcan + clicksPSWind + clicksPSSun + clicksPSBio + clicksPSNuke);
            document.getElementById("amountPS").innerHTML = clicksPS.toString() + " Units Per Second";

            //elements
            var amount = document.getElementById("amount");
            var amountPS = document.getElementById("amountPS");
            var eleCursorPrice = document.getElementById("cursorprice");
            var eleDamPrice = document.getElementById("hydroprice");
            var eleVolcanPrice = document.getElementById("geoprice");
            var eleWindPrice = document.getElementById("windprice");
            var eleSunPrice = document.getElementById("sunprice");
            var eleBioPrice = document.getElementById("bioprice");
            var eleNukePrice = document.getElementById("nukeprice");

            //begining function
            window.onload = function() {
                if (localStorage.num != undefined) {
                    clicks = localStorage.num;
                    updateCount()
                } else {
                    clicks = 0;
                    updateCount()
                }

                if (localStorage.CurMult != undefined) {
                    cursorMult = localStorage.CurMult;
                    
                } else {
                    cursorMult = 1;
                }

                if (localStorage.DamMult != undefined) {
                    damMult = localStorage.DamMult;
                } else {
                    damMult = 1;
                }

                if (localStorage.cursors != undefined) {
                    cursors = localStorage.cursors;
                    document.getElementById("cursor_count").innerHTML = cursors;
                } else {
                    cursors = 0;
                    document.getElementById("cursor_count").innerHTML = cursors;
                }
                if (localStorage.dams != undefined) {
                    dams = localStorage.dams;
                    document.getElementById("hydro_count").innerHTML = dams;
                } else {
                    dams = 0;
                    document.getElementById("hydro_count").innerHTML = dams;
                }
                if (localStorage.name != undefined) {
                    name = localStorage.name;
                    document.getElementById("hname").innerHTML = name;
                } else {
                    name= "My Laboratory";
                    document.getElementById("hname").innerHTML = name;
                }
                if (localStorage.volcans != undefined) {
                    volcan = localStorage.volcans;
                    document.getElementById("geo_count").innerHTML = volcan;
                } else {
                    volcan = 0;
                    document.getElementById("geo_count").innerHTML = volcan;
                }
                if (localStorage.GeoMult != undefined) {
                    volcanMult = localStorage.GeoMult;
                } else {
                    volcanMult = 1;
                }
                
                if (localStorage.winds != undefined) {
                    winds = localStorage.winds;
                    document.getElementById("wind_count").innerHTML = winds;
                } else {
                    winds = 0;
                    document.getElementById("wind_count").innerHTML = winds;
                }
                if (localStorage.WindMult != undefined) {
                    windMult = localStorage.WindMult;
                } else {
                    windMult = 1;
                }
                if (localStorage.suns != undefined) {
                    suns = localStorage.suns;
                    document.getElementById("sun_count").innerHTML = suns;
                } else {
                    suns = 0;
                    document.getElementById("sun_count").innerHTML = suns;
                }
                if (localStorage.SM != undefined) {
                    sunMult = localStorage.SM;
                } else {
                    sunMult = 1;
                }
                if (localStorage.bios != undefined) {
                    bios = localStorage.bios;
                    document.getElementById("bio_count").innerHTML = bios;
                } else {
                    bios = 0;
                    document.getElementById("bio_count").innerHTML = bios;
                }
                if (localStorage.BioMult != undefined) {
                    bioMult = localStorage.BioMult;
                } else {
                    bioMult = 1;
                }
                if (localStorage.nukes != undefined) {
                    nukes = localStorage.nukes;
                    document.getElementById("nuke_count").innerHTML = nukes;
                } else {
                    nukes = 0;
                    document.getElementById("nuke_count").innerHTML = nukes;
                }
                if (localStorage.NukeMult != undefined) {
                    nukeMult = localStorage.NukeMult;
                } else {
                    nukeMult = 1;
                }
                
                //prices;
                cursorPrice = price(15, cursors);
                eleCursorPrice.innerHTML = cursorPrice + " Units";
                damPrice = price(100, dams);
                eleDamPrice.innerHTML = damPrice + " Units";
                geoprice = price(1100, volcan);
                eleVolcanPrice.innerHTML = geoprice + " Units";
                windPrice = price(12000, winds);
                pricedater(eleWindPrice, windPrice);
                sunPrice = price(130000, suns);
                pricedater(eleSunPrice, sunPrice);
                bioPrice = price(1400000, bios);
                pricedater(eleBioPrice, bioPrice);
                nukeMult = price(20000000, nukes);
                pricedater(eleNukePrice, nukePrice);

                //per seconds
                clicksPSCursor = cursors * cursorMult;
                clicksPSDam = (dams * 5) * damMult;
                clicksPSVolcan = (volcan * 8) * volcanMult;
                clicksPSWind = (winds * 42) * windMult;
                clicksPSSun = (suns * 260) * sunMult;
                clicksPSBio = (bios * 1400) * bioMult;
                clicksPSNuke = (nukes * 7800) * nukeMult;
                clicksPS = ((clicksPSCursor + clicksPSDam) + (clicksPSVolcan + clicksPSWind) + clicksPSSun + clicksPSBio + clicksPSNuke);
                document.getElementById("amountPS").innerHTML = clicksPS + " Units Per Second";
                
            };

            //click function
            document.getElementById("press").onclick = function() {
                clicks++;
                updateCount();
                
            };

            //reset function
            document.getElementById("reset").onclick = function() {
                var resornot = confirm("Are you sure you would like to reset?");
                if (resornot == true) {
                    //vars
                    clicks = 0;
                    cursorMult = 1;
                    damMult = 1;
                    cursors = 0;
                    dams = 0;
                    volcan = 0;
                    winds = 0;
                    windMult = 1;
                    volcanMult = 1;
                    suns = 0;
                    sunMult = 1;
                    bios = 0
                    bioMult = 1;
                    nukes = 0;
                    nukeMult = 1;

                    //prices
                    nukePrice = price(20000000, nukes);
                    eleNukePrice.innerHTML = "20.00M Units";
                    bioPrice = price(1400000, bios);
                    eleBioPrice.innerHTML = "1.40M Units";
                    sunPrice = price(130000, suns);
                    eleSunPrice.innerHTML = "130000 Units";
                    windPrice = price(12000, winds);
                    geoprice = price(1100, volcan);
                    eleWindPrice.innerHTML = "12000 Units";
                    eleVolcanPrice.innerHTML = "1100 Units";
                    cursorPrice = price(15, cursors);
                    eleCursorPrice.innerHTML = "15 Units";
                    damPrice = price(100, dams);
                    eleDamPrice.innerHTML = "100 Units";

                    //CPS
                    clicksPSCursor = cursors * cursorMult;
                    clicksPSDam = (dams * 5) * damMult;
                    clicksPSVolcan = (volcan * 8) * volcanMult;
                    clicksPSWind = (winds * 42) * windMult;
                    clicksPSSun = (suns * 260) * sunMult ;
                    clicksPSBio = (bios * 1400) * bioMult;
                    clicksPSNuke = (nukes * 7800) * nukeMult;

                    //update
                    updatePS();
                    updateCount();
                    document.getElementById("cursor_count").innerHTML = cursors;
                    document.getElementById("hydro_count").innerHTML = dams;
                    document.getElementById("geo_count").innerHTML = volcan;
                    document.getElementById("wind_count").innerHTML = winds;
                    document.getElementById("sun_count").innerHTML = suns;
                    document.getElementById("bio_count").innerHTML = bios;
                    document.getElementById("nuke_count").innerHTML = nukes;

                    resornot = null;
                }
            };
            
            //closing function
            window.onunload = function() {
                localStorage.num = clicks;
                localStorage.CurMult = cursorMult;
                localStorage.DamMult = damMult;
                localStorage.cursors = cursors;
                localStorage.dams = dams;
                localStorage.name = name;
                localStorage.volcans = volcan;
                localStorage.GeoMult = volcanMult;
                localStorage.WindMult = windMult;
                localStorage.winds = winds;
                localStorage.suns = suns;
                localStorage.SunMult = sunMult;
                localStorage.bios = bios;
                localStorage.BioMult = bioMult;
                localStorage.nukes = nukes;
                localStorage.NukeMult = nukeMult;
            };

            //naming function
            document.getElementById("name").onclick = function() {
                var newname = "";
                while (newname == null || newname == "") {
                    newname = prompt("New Name For Laboratory:") + "'s Laboratory";
                }
                if (newname.length <= 28) {
                    name = newname;
                    document.getElementById("hname").innerHTML = name;
                } else {
                    alert("Name Too Long, Max Amount: 15 Characters");
                }
            };

            const timeout = setTimeout(tick, 500);

            //dev tools
            document.getElementById("sep").onclick = function() {
                if (name == "NLAE's Laboratory") {
                    var cmd = prompt("Yes Master:");
                    if (cmd == "plus units") {
                        var cmdPlus = prompt("How Many:");
                        for (let i = 0; i < Number(cmdPlus); i++) {
                            clicks++;
                            
                        }
                        updateCount();
                    } else if (cmd == "plus facility") {
                        var cmdWhat = prompt("Which Kind:");
                        if (cmdWhat == "cursor") {
                            cmdPlus = prompt("How Many:");
                            for (let i = 0; i < Number(cmdPlus); i++) {
                                cursors++;
                            }
                            document.getElementById("cursor_count").innerHTML = cursors;
                            clicksPSCursor = cursors * cursorMult;
                            clicksPS = (clicksPSCursor+clicksPSDam + clicksPSVolcan);
                            amountPS.innerHTML = clciksPS + " Units Per Second";
                            cursorPrice = price(15, cursors);
                            eleCursorPrice.innerHTML = cursorPrice + " Units";
                        }
                    }
                }
            };

            //tick function
            function tick() {
                for (let i = 0; i < clicksPS; i++) {
                    clicks++;
                }
                updateCount();
                timeout = setTimeout(tick, 1000);
                //update colors

                /*clicksPSCursor = cursors * cursorMult;
                clicksPS = (clicksPSCursor + clicksPSDam +clicksPSVolcan + clicksPSWind);
                amountPS.innerHTML = clicksPS + " Units Per Second";*/
                
            }

            //update functions
            function updateCount() {
                if (clicks >= 1000000000) {
                    amount.innerHTML = (clicks/1000000000).toFixed(2) + " Billion" + " Units of Energy";
                } else if (clicks >= 1000000) {
                    amount.innerHTML = (clicks/1000000).toFixed(2) + " Million" + " Units of Energy";
                } else {
                    amount.innerHTML = clicks + " Units of Energy";
                }
               
            }
            function updatePS() {
                clicksPS = (clicksPSCursor + clicksPSDam + clicksPSVolcan + clicksPSWind + clicksPSSun + clicksPSBio + clicksPSNuke);
                amountPS.innerHTML = clicksPS + " Units Per Second";
            }

            //general functions
            function price(base, amount) {
                return Math.ceil(base * (Math.pow(1.15, amount)));
            }
            function pricedater(element, theprice) {
                if (theprice >= 1000000000) {
                    element.innerHTMl = (theprice/1000000).toFixed(2) + "B Units";
                } else if (theprice >= 1000000) {
                    element.innerHTML = (theprice/1000000).toFixed(2) + "M Units";
                } else {
                    element.innerHTML = theprice + " Units";
                }
            }

            //store functions

            //buy clicker
            document.getElementById("clicker").onclick = function() {
                if (clicks >= cursorPrice) {
                    clicks -= cursorPrice;
                    updateCount();
                    cursors ++;
                    document.getElementById("cursor_count").innerHTML = cursors;
                    cursorPrice = price(15, cursors);
                    eleCursorPrice.innerHTML = cursorPrice + " Units";
                    clicksPSCursor = parseInt(cursors) * parseInt(cursorMult);
                    updatePS();
                    
                }
            };

            //buy dam
            document.getElementById("hydro").onclick = function() {
                if (clicks >= damPrice) {
                    clicks -= damPrice;
                    updateCount();
                    dams++;
                    document.getElementById("hydro_count").innerHTML = dams;
                    damPrice = price(100, dams);
                    eleDamPrice.innerHTML = damPrice + " Units";
                    clicksPSDam = (parseInt(dams) * 5) * parseInt(damMult);
                    updatePS();
                }
            };

            //buy volcano
            document.getElementById("geo").onclick = function() {
                if (clicks >= geoprice) {
                    clicks -= geoprice;
                    updateCount();
                    volcan++;
                    document.getElementById("geo_count").innerHTML = volcan;
                    geoprice = price(1100, volcan);
                    eleVolcanPrice.innerHTML = geoprice + " Units";
                    clicksPSVolcan = (volcan * 8) * volcanMult;
                    updatePS();

                }
            };

            //buy wind
            document.getElementById("wind").onclick = function() {
                if (clicks >= windPrice) {
                    clicks -= windPrice;
                    updateCount();
                    winds++;
                    document.getElementById("wind_count").innerHTML = winds;
                    windPrice = price(12000, winds);
                    eleWindPrice.innerHTML = windPrice + " Units";
                    clicksPSWind = (winds * 47) * windMult;
                    updatePS();
                }
            };
            
            //buy sun
            document.getElementById("sun").onclick = function() {
                if (clicks >= sunPrice) {
                    clicks -= sunPrice;
                    updateCount();
                    suns++;
                    document.getElementById("sun_count").innerHTML = suns;
                    sunPrice = price(130000, suns);
                    pricedater(eleSunPrice, sunPrice);
                    clicksPSSun = (suns * 260) * sunMult;
                    updatePS();
                }
            };
            document.getElementById("bio").onclick = function() {
                if (clicks >= bioPrice) {
                    clicks -= bioPrice;
                    updateCount();
                    bios++;
                    document.getElementById("bio_count").innerHTML = bios;
                    bioPrice = price(1400000, bios);
                    pricedater(eleBioPrice, bioPrice);
                    clicksPSBio = (bios * 1400) * bioMult;
                    updatePS();
                }
            };

            //buy nuke
            document.getElementById("nuke").onclick = function() {
                if (clicks >= nukePrice) {
                    clicks -= nukePrice;
                    updateCount();
                    nuke++;
                    document.getElementById("nuke_count").innerHTML = nukes;
                    nukePrice = price(20000000, nukes);
                    pricedater(eleNukePrice, nukePrice);
                    clicksPSNuke = (nukes * 7800) * nukeMult;
                    updatePS();
                }
            };
            
        </script>
    </body>
</html>